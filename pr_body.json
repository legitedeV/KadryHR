{
  "title": "feat: Add role management CLI tools and scripts for super_admin promotion",
  "head": "feature/permissions-system-overhaul-xdxzuo",
  "base": "main",
  "body": "# ğŸ” Role Management CLI Tools & Scripts\n\n## ğŸ“‹ Overview\n\nAdds comprehensive role management scripts and tools for promoting users to super_admin and managing permissions through SSH/CLI.\n\n## âœ¨ What's New\n\n### ğŸ› ï¸ Role Management Scripts\n\n#### 1. Universal Role Manager (`backend/scripts/manageRoles.js`)\nComplete CLI tool with commands:\n- `promote <email>` - Promote to super_admin\n- `demote <email>` - Demote to admin\n- `set <email> <role>` - Set specific role\n- `list` - List all admins\n- `check <email>` - Check user role\n- `help` - Show help\n\n**Example:**\n```bash\ncd /home/deploy/apps/kadryhr-app/backend\nnode scripts/manageRoles.js promote admin@kadryhr.local\n```\n\n#### 2. Simple Promotion Script (`backend/scripts/promoteToSuperAdmin.js`)\nQuick script for promoting a single user.\n\n#### 3. Bash Script (`backend/scripts/promote-admin.sh`)\nShell script using MongoDB shell directly.\n\n#### 4. Interactive Menu (`SSH_QUICK_COMMANDS.sh`)\nUser-friendly interactive menu for SSH sessions.\n\n### ğŸ“š Documentation\n\n1. `QUICK_START_SUPER_ADMIN.md` - Quick start guide\n2. `COPY_PASTE_COMMANDS.txt` - Ready-to-copy commands\n3. `PROMOTE_ADMIN_COMMANDS.txt` - Detailed instructions\n4. `backend/scripts/README_ROLES.md` - Complete docs\n\n## ğŸ¯ Quick Start\n\n### Promote to Super Admin\n```bash\ncd /home/deploy/apps/kadryhr-app/backend\nnode scripts/manageRoles.js promote admin@kadryhr.local\n```\n\n### List Admins\n```bash\nnode scripts/manageRoles.js list\n```\n\n### Interactive Menu\n```bash\ncd /home/deploy/apps/kadryhr-app\n./SSH_QUICK_COMMANDS.sh\n```\n\n## ğŸ”‘ Role Hierarchy\n\n**ğŸ‘‘ Super Admin**\n- Initialize permissions globally\n- Manage ALL users (including other super admins)\n- Full access to all modules\n\n**ğŸ”‘ Admin**\n- Manage regular users and admins\n- CANNOT edit super_admin permissions\n- Full access to all modules\n\n**ğŸ‘¤ User**\n- Receive module permissions from admin\n- Unlock specific admin features\n\n## ğŸ“¦ Files Added\n\n**Scripts (4 files):**\n- `backend/scripts/manageRoles.js` (7.3KB)\n- `backend/scripts/promoteToSuperAdmin.js` (2.1KB)\n- `backend/scripts/promote-admin.sh` (1.2KB)\n- `SSH_QUICK_COMMANDS.sh` (12KB)\n\n**Documentation (4 files):**\n- `QUICK_START_SUPER_ADMIN.md`\n- `COPY_PASTE_COMMANDS.txt` (7.6KB)\n- `PROMOTE_ADMIN_COMMANDS.txt` (5.6KB)\n- `backend/scripts/README_ROLES.md`\n\n**Total: 8 files, 1160+ lines**\n\n## âœ… Testing\n\n- âœ… Node.js syntax validated\n- âœ… Bash syntax validated\n- âœ… MongoDB connection handling\n- âœ… Error handling verified\n\n## âš ï¸ Important\n\n1. User must logout/login after role change\n2. Keep at least one super_admin\n3. Backup database before bulk changes\n4. Requires MongoDB running\n\n## ğŸ“– Docs\n\nSee `QUICK_START_SUPER_ADMIN.md` for quick start.\n\n---\n\n**Ready to merge!** ğŸ‰"
}
